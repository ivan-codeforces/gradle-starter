plugins {
    id 'java'
}

group 'org.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'
}

test {
    useJUnitPlatform()
}

println "configuration phase"
println "gradle id: ${gradle.hashCode()}"
println "root: ${rootProject.hashCode()}, ${gradle.rootProject.hashCode()}"

//3
task hello(description: "Hello task", group: "dmdev") {
    println "configuration phase. Task hello"

//    1
    doLast{
        println "execution phase, Action 1"
    }
//    2
    doFirst(){
        println "execution phase, Action 2"
    }
//    println "Task graph: $gradle.taskGraph.allTasks"
    doLast{
        println "execution phase, Action 3"
    }
    println "path task: $path"
    println "task: $description, group: $group, actions: ${actions.size()}"
}

//1
//tasks.findByName("hello").description("Hello task")
hello.description = "Hello task"
hello.group = "dmdev"
//2
hello{
    println "configuration phase. Task hello"
    description = "Hello task"
    group = "dmdev"
}

